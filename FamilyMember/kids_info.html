<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>家族アルバムvivi - 子ども情報</title>
    <link rel="stylesheet" href="vivi_family_style.css">
</head>
<body>
    <div class="app-container">
        <header class="top-bar">
            <div class="header-left">
                <a href="family_member.html" class="icon-button back-button"><span class="icon">＜</span> 戻る</a>
            </div>
            <div class="header-center"><h1 id="detail-title">子ども情報</h1></div>
            <div class="header-right">
                <button class="icon-button edit-button" id="edit-button-link">
                    <span class="icon">✎</span> 
                </button>
            </div>
        </header>

        <main class="main-content">
            <section class="detail-section">
                <div class="detail-group">
                    <label>名前</label>
                    <p class="detail-value" id="kid-name"></p>
                </div>
                <div class="detail-group">
                    <label>性別</label>
                    <p class="detail-value" id="kid-gender"></p>
                </div>
                <div class="detail-group">
                    <label>誕生日</label>
                    <p class="detail-value" id="kid-birthday"></p>
                </div>
                <div class="detail-group">
                    <label>年齢</label>
                    <p class="detail-value" id="kid-age"></p>
                </div>
            </section>

            <button class="secondary-button" id="growth-record-link">
                <span class="icon">📈</span> 成長記録（身長データ）を見る
            </button>
            
            <div class="form-actions delete-area">
                 <button class="delete-button" onclick="if(confirm('この子どもの情報を削除しますか？')) alert('削除されました')">
                    子ども情報を削除する
                </button>
            </div>
        </main>

        <nav class="bottom-nav">
            <a href="top.html" class="nav-item"><span class="icon">🖼️</span>アルバム</a>
            <a href="height_measure.html" class="nav-item "><span class="icon">📷</span>カメラ</a>
            <a href="family_member.html" class="nav-item active"><span class="icon">⚙️</span>設定</a>
       </nav>  

    </div>
 

    <script>
        // 子どもデータ定義 (本来はサーバーサイドやAPIから取得するデータ)
        const kids = {
            'a': {
                name: 'Aちゃん',
                title_name: 'Aちゃん',
                gender: '女の子',
                birthday: '2021年4月1日',
                age: '4歳10ヶ月'
            },
            'b': {
                name: 'Bくん',
                title_name: 'Bくん',
                gender: '男の子',
                birthday: '2023年6月1日',
                age: '2歳4ヶ月'
            }
        };

        function loadKidDetail() {
            // URLからクエリパラメータを取得
            const params = new URLSearchParams(window.location.search);
            const kidId = params.get('id');
            const data = kids[kidId];

            if (!data) {
                // データが見つからない場合の処理
                document.getElementById('detail-title').textContent = '情報が見つかりません';
                document.querySelector('.main-content').innerHTML = '<p style="text-align:center; margin-top: 50px;">指定された子どもの情報がありません。</p>';
                return;
            }

            // 1. ヘッダーを更新
            document.getElementById('detail-title').textContent = `子ども情報 (${data.title_name})`;
            // 編集リンクを更新 (kids_add.html?edit=a or b)
            document.getElementById('edit-button-link').onclick = () => {
                location.href = `kids_add.html?edit=${kidId}`;
            };

            // 2. 詳細情報を更新
            document.getElementById('kid-name').textContent = data.name;
            document.getElementById('kid-gender').textContent = data.gender;
            document.getElementById('kid-birthday').textContent = data.birthday;
            document.getElementById('kid-age').textContent = data.age;

            // 3. 成長記録リンクを更新
            document.getElementById('growth-record-link').onclick = () => {
                location.href = `growth_view.html?kid=${kidId}`;
            };
        }

        // ページ読み込み時に実行
        loadKidDetail();
    </script>
</body>
</html>